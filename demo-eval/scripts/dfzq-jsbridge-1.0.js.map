{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6**","webpack:///webpack/bootstrap 154b72de468739e466ec?036a**","webpack:///./src/jsBridge/core.js","webpack:///./src/jsBridge/util.js","webpack:///./src/jsBridge/dfzq-jsbridge-1.0.js"],"names":["ua","navigator","userAgent","android","match","ipad","ipod","iphone","isFromApp","toLowerCase","init","bridge","message","responseCallback","data","ready","callback","window","WebViewJavascriptBridge","WVJBCallbacks","push","WVJBIframe","document","createElement","style","display","src","documentElement","appendChild","setTimeout","removeChild","addEventListener","noop","onBack","options","_options","complete","callHandler","response","onRefresh","onNavigationBar","onPushView","title","uri","indexOf","pageWillAppear","registerHandler","onNotify","type","subscribeNotify","onDynamicLink","url","onRequest","operationType","payloadOptions","okCallBack","notOkCallBack","payload","JSON","parse","error","info","getAbsoluteUrl","link","setAttribute","absoluteUrl","href","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","isRegisterOk","wrapOkPayload","wrapNotOkPayload","blankPage","bHtml","cssText","innerHTML","body","isFromWeiXin","oauth","success","fail","code","AppAuthorize","token","vtDeviceId","onLogin","onShare","channel","description","thumbImageUrl","ext"],"mappings":"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","file":"dfzq-jsbridge-1.0.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fastman\"] = factory();\n\telse\n\t\troot[\"fastman\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 154b72de468739e466ec","/**\n * Created by dfzq on 2017/4/13.\n */\nimport { getAbsoluteUrl, _extends } from './util'\n\n// 区分设备系统\nvar ua = navigator.userAgent;\nvar android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\nvar ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\nvar ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\nvar iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\nvar isFromApp = !!ua.toLowerCase().match(/DFYJ/i);\n\n// 初始化桥接对象\nvar init = function (bridge) {\n    bridge.init(function(message, responseCallback) {\n        if (responseCallback)\n            responseCallback(data)\n    })\n\n    return bridge\n}\n\n/**\n * 初始化桥接对象\n * connectWebViewJavascriptBridge\n * @param callback\n */\nvar ready = function (callback) {\n    if (isFromApp){\n        if (ipad || iphone || ipod) {\n            // 新版本兼容IOS\n            if (window.WebViewJavascriptBridge) { return callback(WebViewJavascriptBridge); }\n            if (window.WVJBCallbacks) { return window.WVJBCallbacks.push(callback); }\n            window.WVJBCallbacks = [callback];\n            var WVJBIframe = document.createElement('iframe');\n            WVJBIframe.style.display = 'none';\n            WVJBIframe.src = 'https://__bridge_loaded__';\n            document.documentElement.appendChild(WVJBIframe);\n            setTimeout(function() { document.documentElement.removeChild(WVJBIframe) }, 0)\n        }\n        else if (android) {\n            // 旧版本兼容Android\n            if (window.WebViewJavascriptBridge) {\n                callback(init(WebViewJavascriptBridge))\n            } else {\n                document.addEventListener('WebViewJavascriptBridgeReady', function() {\n                    // 以异步形式加载\n                    callback(init(WebViewJavascriptBridge))\n                }, false)\n            }\n        }\n        else {\n            callback()\n        }\n    }\n    else{\n        callback()\n    }\n}\n\n// 空函数\nvar noop = function () {}\n\n/**\n * APP WebView后退，后退到栈的最外层\n * @param options\n */\nvar onBack = function (options) {\n    // 默认配置\n    var _options = {\n        complete: noop\n    };\n    // 复制\n    _options = _extends({}, _options, options);\n\n    WebViewJavascriptBridge.callHandler('back', _options, function(response) {\n        _options.complete(response);\n    });\n}\n\n/**\n * APP WebView刷新\n * @param options\n */\nvar onRefresh = function (options) {\n    var _options = {\n        complete: noop\n    };\n    _options = _extends({}, _options, options);\n\n    WebViewJavascriptBridge.callHandler('refresh', _options, function(response) {\n        _options.complete(response);\n    });\n}\n\n/**\n * 设置原生导航条\n * @param options\n * {\n *    \"title\": \"xxxxx\",\n *    \"type\": \"0\"       // 0-默认 1-切换类\n * }\n */\nvar onNavigationBar = function (options) {\n    var _options = {\n        complete: noop\n    };\n    _options = _extends({}, _options, options);\n\n    WebViewJavascriptBridge.callHandler('navigationBar', _options);\n}\n\n/**\n * 打开一个新的webview\n * @param options\n * {\n *    \"title\": \"xxxxx\",      // 导航名称，如果html设置title，以html为主\n *    \"uri\": \"xxxxxxx\"       // webview请求的路由地址，目前只支持http协议，今后可支持shema协议\n * }\n */\nvar onPushView = function (options) {\n    var _options = {\n        title: ''\n    };\n    _options = _extends({}, _options, options);\n\n    if (!!_options.uri){\n        if (_options.uri.indexOf('http') != -1 || _options.uri.indexOf('https') != -1) {\n\n        } else {\n            _options.uri = getAbsoluteUrl(_options.uri);\n        }\n    }\n\n    WebViewJavascriptBridge.callHandler('pushView', _options);\n}\n\n/**\n * 原生页面将要出现时触发的事件\n * @param callback\n */\nvar pageWillAppear = function (callback) {\n    if (typeof callback == 'function')\n        WebViewJavascriptBridge.registerHandler(\"pageWillAppear\", callback)\n}\n\n/**\n * H5发送通知给客户端\n * @param options\n */\nvar onNotify = function (options) {\n    var _options = {\n        type: 'javascriptNotify'\n    };\n    _options = _extends({}, _options, options);\n\n    WebViewJavascriptBridge.callHandler('notify', _options);\n}\n\n/**\n * H5注册通知，由客户端进行通知\n * @param type  事件类型名称\n * @param callback  回调处理\n */\nvar subscribeNotify = function (type, callback) {\n    if (typeof callback == 'function') {\n        WebViewJavascriptBridge.registerHandler(type, callback)\n    }\n}\n\n/**\n * 调用Schema Url\n * @param options\n */\nvar onDynamicLink = function (options) {\n    var _options = {\n        url: ''\n    };\n    _options = _extends({}, _options, options);\n\n    WebViewJavascriptBridge.callHandler('dynamicLink', _options);\n}\n\n/**\n * 调用Request指令（通常作用在一些原生和客户端之间比较特殊的操作）\n * @param operationType     操作指令（见文档）\n * @param payloadOptions    消息体结构\n */\nvar onRequest = function (operationType, payloadOptions, okCallBack, notOkCallBack) {\n    var _options = {\n        type: !operationType ? '1' : operationType,\n        payload: !payloadOptions ? {} : payloadOptions,\n    }\n\n    WebViewJavascriptBridge.callHandler('request', _options, function (response) {\n        if (typeof response == 'string'){\n            response = JSON.parse(response);\n        }\n\n        if (response.error || response.error === 'true'){\n            if (typeof notOkCallBack === 'function'){\n                notOkCallBack(response.info)\n            }\n        }\n        else{\n            if (typeof okCallBack === 'function'){\n                okCallBack(response.payload)\n            }\n        }\n    })\n\n}\n\nexport {\n    // ready是一个异步操作,如果需要在页面加载时就调用相关接口,则需把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口,则可直接调用,不需要放在ready函数中\n    // 该函数中有一个bridge变量,与下面的bridge使用上一致,只是调用顺序需要额外注意\n    ready,\n    onBack,\n    onRefresh,\n    onNavigationBar,\n    onPushView,\n    onNotify,               // H5发送通知给客户端\n    subscribeNotify,        // 客户端发送通知给H5\n    onDynamicLink,\n    onRequest,\n\n    // 原生生命周期相关事件\n    pageWillAppear\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/jsBridge/core.js","/**\n * Created by dfzq on 2017/4/13.\n */\n/**\n * 获取绝对路径\n * @param url\n */\nlet getAbsoluteUrl = function (url) {\n    var link = document.createElement('a');\n    link.setAttribute('href', url);\n    var absoluteUrl = link.href;\n    link = null;\n    return absoluteUrl;\n}\n\n/**\n * 属性继承\n * @type {*}\n * @private\n */\nvar _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n            for (var key in source) {\n                // 源对象中是否存在对象键值\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    }\n\nexport {\n    getAbsoluteUrl,\n    _extends\n}\n\n\n// WEBPACK FOOTER //\n// ./src/jsBridge/util.js","/**\n * Created by dfzq on 2017/8/17.\n */\nimport {\n    ready as init,\n    onRequest,\n} from './core'\n\nlet isRegisterOk = false;\n\n// 空函数\nlet noop = function () {}\n\n/**\n * 成功消息体的包装\n * @param payload 成功对象\n */\nconst wrapOkPayload = (payload = {}) => ({\n    error: false,\n    info: 'ok',\n    payload: payload,\n})\n\n/**\n * 失败消息体的包装\n * @param info 错误描述\n */\nconst wrapNotOkPayload = (info = 'error') => ({\n    error: true,\n    info: info,\n})\n\n// blankPage\nconst blankPage = (message = '请在东方赢家财富版客户端打开链接') => {\n    let bHtml = document.createElement('div')\n    bHtml.style.cssText = 'display:table;position:absolute;left:0;right:0;top:0;bottom:0;width:100%;height:100%;background:white;z-index:99999;'\n    bHtml.innerHTML = '<div style=\"display:table-cell;vertical-align: middle;text-align: center;\">' + message + '</div>'\n\n    document.body.appendChild(bHtml)\n}\n\n// 是否来自于APP\nconst isFromApp = () => !!navigator.userAgent.toLowerCase().match(/DFYJ/i)\n\n// 是否来自于微信\nconst isFromWeiXin = () => !!navigator.userAgent.toLowerCase().match(/MicroMessenger/i)\n\n/**\n * 初始化桥接\n * @param callback 成功回调\n */\nconst ready = (callback = noop) => {\n\n    if (isFromApp()){\n        init(callback)\n    }\n    else{\n        blankPage()\n    }\n\n}\n\n/**\n * 启动授权\n * APP：走refreshToken授权模式，获取token和vtDeviceId\n * @param callback 回调函数处理\n * @constructor\n */\nconst oauth = (options = { success : noop, fail : noop }) => {\n\n    if (isFromApp()){\n        // 首先建立js桥接模式\n        if(!isRegisterOk){\n            isRegisterOk = true\n\n            if(WebViewJavascriptBridge){\n                WebViewJavascriptBridge.callHandler('refreshToken', {}, function (response) {\n                    if (typeof response == 'string'){\n                        response = JSON.parse(response)\n                    }\n\n                    // 成功处理\n                    if (response.code == '0') {\n                        let AppAuthorize = {}\n                        // 为APP授权模块标志授权标识token和虚拟设备ID\n                        AppAuthorize.token = response.token\n                        AppAuthorize.vtDeviceId = response.vtDeviceId\n\n                        if (typeof options.success === 'function') {\n                            let payload = wrapOkPayload(AppAuthorize)\n                            options.success(payload)\n                        }\n                    }\n                    // 失败处理\n                    else {\n                        if (typeof options.fail === 'function') {\n                            let error = wrapNotOkPayload('桥接程序建立失败')\n                            options.fail(error)\n                        }\n                    }\n\n                    isRegisterOk = false\n                })\n            }\n        }\n    }\n    else{\n        blankPage()\n    }\n\n}\n\n/**\n * 打开原生登录视图\n * @param _\n */\nconst onLogin = (options = { success : noop, fail : noop }) => {\n\n    if (isFromApp()){\n        onRequest('2', '', options.success, options.fail)\n    }\n    else{\n        blankPage()\n    }\n\n}\n\n/**\n * 分享\n * @param channel 渠道类型，\"1\":微信好友 \"2\":微信朋友圈 \"3\":新浪微博 \"4\":qq好友\n * @param title 分享标题名称\n * @param description 分享摘要信息\n * @param thumbImageUrl 缩略图片地址，需要压缩到32kb\n * @param link 跳转地址\n * @param ext 扩展字段\n */\nconst onShare = (options = {\n    channel : '1',\n    title : '',\n    description : '',\n    thumbImageUrl : 'http://wxs.dfzq.com.cn/fileRes/new_download/images/new_pic.jpg',\n    link : '',\n    ext : '',\n    success : noop,\n    fail : noop,\n}) => {\n\n    if (isFromApp()){\n        onRequest('4', {\n            channel : options.channel,\n            title : options.title,\n            description : options.description,\n            thumbImageUrl : options.thumbImageUrl,\n            link : options.link,\n            ext : options.ext,\n        }, options.success, options.fail)\n    }\n    else{\n        blankPage()\n    }\n\n}\n\nexport {\n    ready,\n    oauth,\n    onLogin,\n    onShare,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/jsBridge/dfzq-jsbridge-1.0.js"],"sourceRoot":""}