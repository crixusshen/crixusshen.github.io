require(["domReady","OBapi","echarts","echarts/chart/pie","echarts/component/legend","echarts/component/tooltip"],function(a,b,c,d){a(function(){var a=require("fragment"),b=require("fragmentPage"),d=require("scroller"),e=(require("when"),require("tabs")),f=require("responsiveTable"),g=b({name:"main",url:"#",template:"#main",init:function(a){function b(){$(window).width()<767?$("th.first-header").removeAttr("rowspan"):$("th.first-header").attr("rowspan","2")}setTimeout(function(){$(".fragment").removeClass("slideIn").css("opacity","1")},600);var d=e(".detailTab",{disableTouch:!0}),g=$(".detailTab .ui-tab-content li").eq(0).find(".numberDetail").height();$(".numberDetail").parent().css("height",g+10+"px"),d.on("beforeScrollStart",function(a,b){0});var h=e(".chart-section",{disableTouch:!0});h.on("beforeScrollStart",function(a,b){0}),$(".table-section__body").hide(),$(".table-section__footer").hide(),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",b,!1),b(),$(".table-section__header").on("tap",function(){var a=$(this).find(".table-section__header__arrow");a.hasClass("table-section__header__arrow--fold")?(a.removeClass("table-section__header__arrow--fold").addClass("table-section__header__arrow--unfold"),$(this).parents(".table-section").find(".table-section__body").show(),$(this).parents(".table-section").find(".table-section__footer").show()):(a.removeClass("table-section__header__arrow--unfold").addClass("table-section__header__arrow--fold"),$(this).parents(".table-section").find(".table-section__body").hide(),$(this).parents(".table-section").find(".table-section__footer").hide())}),$(".table-section__header").each(function(b){$(this).on("tap",function(){if(0!=b){var c=$("#table"+b).html();$(this).parent().find(".table-section__body").html(c),$(this).parent().find(".table-section__body .fragment").children().unwrap();var d=!1,g=!1,h=!1;if(1==b){var i=e(".future-section",{disableTouch:!0});i.on("beforeScrollStart",function(a,b){0})}else if(2==b)d||(f.init(),d=!0);else if(3==b){if(!g){f.init();var j=e(".rongzi-section",{disableTouch:!0});j.on("beforeScrollStart",function(a,b){0}),g=!0}}else if(4==b&&!h){f.init();var k=e(".rongquan-section",{disableTouch:!0});k.on("beforeScrollStart",function(a,b){0})}$(this).parent().find(".table-section__footer span").on("tap",function(){a.go("table"+b)})}})}),$("#pieChart1, #pieChart2").css("width",$(window).width());var i=c.init(document.getElementById("pieChart1")),j={tooltip:{formatter:"{b}"},legend:{orient:"vertical",left:"55%",top:"35%",itemWidth:8,itemHeight:8,data:[{name:"负债合计 33%",textStyle:{color:"#FC323D"}},{name:"净资产     67%",textStyle:{color:"#A7A9AC"}}]},series:[{type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"}},labelLine:{normal:{show:!1}},center:["30%","50%"],data:[{value:4,name:"负债合计 33%"},{value:10,name:"净资产     67%"}]}],color:["#FC323D","#EBEBEB"]};i.setOption(j);var k=c.init(document.getElementById("pieChart2")),l={tooltip:{formatter:"{b}"},legend:{orient:"vertical",left:"55%",top:"20%",itemWidth:8,itemHeight:8,data:[{name:"有色金属 33%",textStyle:{color:"#FC323D"}},{name:"通信         67%",textStyle:{color:"#FA8187"}},{name:"能源         67%",textStyle:{color:"#FAAAAF"}},{name:"其它         67%",textStyle:{color:"#A7A9AC"}}]},series:[{type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"}},labelLine:{normal:{show:!1}},center:["30%","50%"],data:[{value:4,name:"有色金属 33%"},{value:3,name:"通信         67%"},{value:1,name:"能源         67%"},{value:6,name:"其它         67%"}]}],color:["#FC323D","#FA8187","#F9BDC1","#EBEBEB"]};k.setOption(l),$(".totalPage").on("tap",function(){a.go("total")}),$(".interestPage").on("tap",function(){a.go("interest")})},destory:function(a){}}),h=b({name:"total",url:"#total",template:"#total",init:function(a){},destory:function(a){}}),i=b({name:"interest",url:"#interest",template:"#interest",init:function(a){var b=e(".interest-section",{disableTouch:!0});b.on("beforeScrollStart",function(a,b){0});d(".container .fragment.interest .height_100",{scrollY:!0,bounce:!0,didTriggerToBottom:function(a){var b=this;b.loading(!0);var c="<tr>";c+="<td>测试新增</td>",c+="<td>1111</td>",c+="<td>1111</td>",c+="<td>1111</td>",c+="<td>1111</td>",c+="</tr>",$(".container .fragment.interest .ui-tab-content li table tbody").append(c),b.loading(!1)}})},destory:function(a){}}),j=b({name:"table1",url:"#table1",template:"#table1",init:function(a){$(".container .fragment.table1 .table-section__footer").hide();var b=e(".container .fragment.table1 .future-section",{disableTouch:!0});b.on("beforeScrollStart",function(a,b){0});d(".container .fragment.table1 .height_100",{scrollY:!0,bounce:!0,didTriggerToBottom:function(a){var b=this;b.loading(!0);var c="<tr>";c+="<td>测试新增</td>",c+="<td>1111</td>",c+="<td>1111</td>",c+="</tr>",$(".container .fragment.table1 .ui-tab-content li table tbody").append(c),b.loading(!1)}})},destory:function(a){}}),k=b({name:"table2",url:"#table2",template:"#table2",init:function(a){$(".container .fragment.table2 .table-section__footer").hide(),f.init()},destory:function(a){}}),l=b({name:"table3",url:"#table3",template:"#table3",init:function(a){$(".container .fragment.table3 .table-section__footer").hide();var b=e(".container .fragment.table3 .rongzi-section",{disableTouch:!0});b.on("beforeScrollStart",function(a,b){0}),f.init();d(".container .fragment.table3 .height_100",{scrollY:!0,bounce:!0,didTriggerToBottom:function(a){var b=this;b.loading(!0);var c="<tr>";c+="<td>测试新增</td>",c+="<td>测试新增</td>",c+="<td>1111</td>",c+="<td>1111</td>",c+="<td>111</td>",c+="<td>111</td>",c+="</tr>",$(".container .fragment.table3 .ui-tab-content li table tbody").append(c),b.loading(!1)}})},destory:function(a){}}),m=b({name:"table4",url:"#table4",template:"#table4",init:function(a){$(".container .fragment.table4 .table-section__footer").hide();var b=e(".container .fragment.table4 .rongquan-section",{disableTouch:!0});b.on("beforeScrollStart",function(a,b){0}),f.init();d(".container .fragment.table4 .height_100",{scrollY:!0,bounce:!0,didTriggerToBottom:function(a){var b=this;b.loading(!0);var c="<tr>";c+="<td>测试新增</td>",c+="<td>1111</td>",c+="<td>1111</td>",c+="<td>1111</td>",c+="<td>1111</td>",c+="</tr>",$(".container .fragment.table4 .ui-tab-content li table tbody").append(c),b.loading(!1)}})},destory:function(a){}});a(".container").push(g).push(h).push(j).push(k).push(l).push(m).push(i).setDefault("mainPage").init()})});